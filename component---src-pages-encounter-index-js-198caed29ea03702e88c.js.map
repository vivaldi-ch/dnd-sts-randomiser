{"version":3,"sources":["webpack:///./src/utils/random.js","webpack:///./src/components/card.js","webpack:///./src/components/cards/features.js","webpack:///./src/components/cards/spells-generic.js","webpack:///./src/components/cards/spells-0.js","webpack:///./src/components/cards/spells-1.js","webpack:///./src/components/cards/spells-2.js","webpack:///./src/components/cards/spells-3.js","webpack:///./src/components/cards/spells.js","webpack:///./src/components/card-list.js","webpack:///./src/pages/encounter/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/components/seo.js","webpack:///./src/images/refresh.svg"],"names":["getRandomIntInclusive","min","max","intMin","Math","ceil","intMax","floor","random","percentileDie","randomEntriesFromArray","arrLength","noOfEntries","indexArray","times","Number","i","r","t","slice","Card","_ref","_getContentFromType","type","title","desc","getContentFromType","react_default","a","createElement","className","propTypes","PropTypes","oneOf","defaultProps","getRandomFeaturesByLevel","features","sortedFeatures","reduce","sorted","f","currentSorted","level","push","sortFeaturesByLevel","percentileRoll","FeatureCard","_3059894764","data","allFeaturesJson","nodes","randomFeature","length","name","class","SpellGenericContent","spells","noOfSlots","map","randomSpell","actualIndex","key","classes","join","number","isRequired","arrayOf","object","CantripContent","_1965820148","allSpellsJson","chosenIndex","Fragment","spells_generic","SpellOneContent","_2225090711","SpellTwoContent","_4019057582","SpellThreeContent","_3176891098","SpellCard","diceRoll","NormalEncounter","quantity","card","weight","cards_features","cards_spells","CardList","EncounterPage","props","pathname","location","encounterType","last","split","layout","seo","capitalize","gatsby_browser_entry","to","src","RefreshIcon","alt","card_list","shape","string","m","module","exports","require","default","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","d","__webpack_exports__","React","createContext","func","ProdPageRenderer","pageResources","InternalPageRenderer","Object","assign","json","Header","siteTitle","style","background","marginBottom","margin","maxWidth","padding","color","textDecoration","Layout","children","_856328897","header","site","siteMetadata","paddingTop","node","SEO","description","lang","meta","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","property","concat"],"mappings":"0NAUA,SAASA,EAAsBC,EAAKC,GAClC,IAAMC,EAASC,KAAKC,KAAKJ,GACnBK,EAASF,KAAKG,MAAML,GAC1B,OAAOE,KAAKG,MAAMH,KAAKI,UAAYF,EAASH,EAAS,IAAMA,EAGtD,IAMMM,EAAgB,kBAAMT,EAAsB,EAAG,MAE/CU,EAAyB,SAACC,EAAWC,QAAoB,IAApBA,MAAc,GAG9D,IAFA,IAAMC,EAAaC,IAAMH,EAAWI,QAE3BC,EAAIL,EAAY,EAAGK,EAAI,EAAGA,GAAK,EAAG,CACzC,IAAMC,EAAIb,KAAKG,MAAMH,KAAKI,SAAWQ,GAC/BE,EAAIL,EAAWG,GACrBH,EAAWG,GAAKH,EAAWI,GAC3BJ,EAAWI,GAAKC,EAGlB,OAAOL,EAAWM,MAAM,EAAGP,ICuBvBQ,EAAO,SAAAC,GAAc,IAAAC,EArDA,SAACC,GAC1B,OAAQA,GACN,IAAK,gBACH,MAAO,CACLC,MAAO,gBACPC,KAAI,UDSsB,EAAIzB,EAAsB,EAAG,GCTnD,qBAER,IAAK,mBACH,MAAO,CACLwB,MAAO,qBACPC,KAAM,sCAEV,IAAK,mBACH,MAAO,CACLD,MAAO,qBACPC,KAAM,sCAEV,IAAK,oBACH,MAAO,CACLD,MAAO,oBACPC,KAAI,qKAKR,IAAK,0BACH,MAAO,CACLD,MAAO,0BACPC,KAAM,oCAEV,IAAK,QACH,MAAO,CACLD,MAAO,QACPC,KAAM,gBAEV,IAAK,cACH,MAAO,CACLD,MAAO,cACPC,KAAM,4BAEV,IAAK,OACH,MAAO,CACLD,MAAO,OACPC,KAAM,4BAEV,QACE,MAAO,CACLD,MAAO,UACPC,KAAM,qBAMYC,CADCL,EAAXE,MACNC,EADiBF,EACjBE,MAAOC,EADUH,EACVG,KACf,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAA0BN,GACzCG,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BAA2BL,MAMhDL,EAAKW,UAAY,CACfR,KAAMS,IAAUC,MAAM,CACpB,gBACA,mBACA,mBACA,oBACA,0BACA,WACA,SACA,QACA,cACA,kBACA,UAIJb,EAAKc,aAAe,CAClBX,KAAM,IAGOH,2CCzCTe,EAA2B,SAACC,GAChC,IAAMC,EAjBoB,SAAAD,GAAQ,OAClCE,IACEF,EACA,SAACG,EAAQC,GACP,IAAMC,EAAgBF,EAOtB,OANKE,EAAcD,EAAEE,SACnBD,EAAcD,EAAEE,OAAS,IAG3BD,EAAcD,EAAEE,OAAOC,KAAKH,GAErBC,GAET,IAIqBG,CAAoBR,GACrCS,EAAiBpC,IAEvB,OAAIoC,GAAkB,GAAWR,EAAe,GAC5CQ,GAAkB,GAAWR,EAAe,GAC5CQ,GAAkB,GAAWR,EAAe,GAC5CQ,GAAkB,GAAWR,EAAe,GACzCA,EAAe,IAqBTS,EAlBK,WAClB,IAAMV,EAvDkBW,EAAAC,KAEtBC,gBAAmBC,MAsDfb,EAAiBF,EAAyBC,GAE1Ce,EAAgBd,EAAejC,KAAKG,MAAMH,KAAKI,SAAW6B,EAAee,SAE/E,OACEzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBAAf,WACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAA0BqB,EAAcE,MACvD1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBAAyBqB,EAAcG,MAAMD,MAC5D1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAAf,UAAoDqB,EAAcT,qCCnEpEa,EAAsB,SAAAlC,GAAA,IAAGqB,EAAHrB,EAAGqB,MAAOc,EAAVnC,EAAUmC,OAAQC,EAAlBpC,EAAkBoC,UAAlB,OAC1B9B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,UACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeY,EAAQ,EAAR,SAAqBA,EAAU,WAC5De,EAAY,EACX9B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,WACW2B,EADX,UAC6Bf,EAD7B,eAIA,GAEFf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAf,WAAyC0B,EAAOJ,OAAhD,0BAA+EI,EAAOJ,OAAS,EAAI,IAAM,IACzGzB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACX0B,EAAOE,IAAI,SAACC,EAAaC,GAAd,OACVjC,EAAAC,EAAAC,cAAA,MAAIgC,IAAKD,GACPjC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuB6B,EAAYN,MAClD1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAa4B,IAAIC,EAAYG,QAAS,QAAQC,KAAK,aAO5ER,EAAoBxB,UAAY,CAC9BW,MAAOV,IAAUgC,OAAOC,WACxBT,OAAQxB,IAAUkC,QAAQlC,IAAUmC,QAAQF,WAC5CR,UAAWzB,IAAUgC,QAGvBT,EAAoBrB,aAAe,CACjCuB,UAAW,GAGEF,QCUAa,EAhBQ,WACrB,IAAMZ,EAxBkBa,EAAArB,KAEtBsB,cAAiBpB,MAwBbqB,EAAc7D,EAAuB8C,EAAOJ,OA7B/B,GA+BnB,OACEzB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4C,SAAA,KACE7C,EAAAC,EAAAC,cAAC4C,EAAD,CACE/B,MAAO,EACPe,UAlCY,EAmCZD,OAAQe,EAAYb,IAAI,SAAA1C,GAAC,OAAIwC,EAAOxC,kBCM7B0D,EAhBS,WACtB,IAAMlB,EAxBkBmB,EAAA3B,KAEtBsB,cAAiBpB,MAwBbqB,EAAc7D,EAAuB8C,EAAOJ,OA7B/B,GA+BnB,OACEzB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4C,SAAA,KACE7C,EAAAC,EAAAC,cAAC4C,EAAD,CACE/B,MAAO,EACPe,UAlCY,EAmCZD,OAAQe,EAAYb,IAAI,SAAA1C,GAAC,OAAIwC,EAAOxC,kBCI7B4D,EAdS,WACtB,IAAMpB,EAxBkBqB,EAAA7B,KAEtBsB,cAAiBpB,MAwBbqB,EAAc7D,EAAuB8C,EAAOJ,OA7B/B,GA+BnB,OACEzB,EAAAC,EAAAC,cAAC4C,EAAD,CACE/B,MAAO,EACPe,UAjCc,EAkCdD,OAAQe,EAAYb,IAAI,SAAA1C,GAAC,OAAIwC,EAAOxC,iBCQ3B8D,EAhBW,WACxB,IAAMtB,EAxBoBuB,EAAA/B,KAExBsB,cAAiBpB,MAwBbqB,EAAc7D,EAAuB8C,EAAOJ,OA7B/B,GA+BnB,OACEzB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4C,SAAA,KACE7C,EAAAC,EAAAC,cAAC4C,EAAD,CACE/B,MAAO,EACPe,UAlCY,EAmCZD,OAAQe,EAAYb,IAAI,SAAA1C,GAAC,OAAIwC,EAAOxC,SCjB7BgE,EARG,kBAChBrD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAVXmD,EAAWxE,MAED,GAAW2D,IACvBa,GAAY,GAAWP,IACvBO,GAAY,GAAWL,IACpBE,MANiB,IAClBG,GCCFC,EAAkB,SAAAC,GAAQ,OAC9BxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0CACbH,EAAAC,EAAAC,cAACuD,EAAD,CAAM7D,KAAK,kBACXI,EAAAC,EAAAC,cAACuD,EAAD,CAAM7D,KAAK,sBACVT,IAAMqE,EAAU,SAAAnE,GAAC,YTEE,KAACqE,ESFW,OTEXA,EAAS,IAAQjF,KAAKI,SAAW6E,ESFd1D,EAAAC,EAAAC,cAACyD,EAAD,CAAazB,IAAK7C,IAAQW,EAAAC,EAAAC,cAAC0D,EAAD,CAAW1B,IAAK7C,ITE9D,IAACqE,MSUnBG,EAAW,SAAAnE,GAAwB,IAArBE,EAAqBF,EAArBE,KAAM4D,EAAe9D,EAAf8D,SACxB,OAAQ5D,GACN,IAAK,SAAU,OAAO2D,EAAgBC,GACtC,IAAK,SAAU,OAVjBxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0CACbH,EAAAC,EAAAC,cAACuD,EAAD,CAAM7D,KAAK,qBACXI,EAAAC,EAAAC,cAACuD,EAAD,CAAM7D,KAAK,UACXI,EAAAC,EAAAC,cAACuD,EAAD,CAAM7D,KAAK,6BAQX,QAAS,OAAOI,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4C,SAAA,QAIpBgB,EAASzD,UAAY,CACnBR,KAAMS,IAAUC,MAAM,CAAC,SAAU,SAAU,aAC3CkD,SAAUnD,IAAUgC,QAGtBwB,EAAStD,aAAe,CACtBX,KAAM,mBACN4D,SAAU,GAGGK,mCC7BTC,EAAgB,SAACC,GAAU,IAEjBC,EACVD,EADFE,SAAYD,SAGRE,EAAgBC,KAAMH,GAAY,KAAKI,MAAM,MAEnD,OACEpE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,KACErE,EAAAC,EAAAC,cAACoE,EAAA,EAAD,CAAKzE,MAAU0E,IAAWL,GAAhB,eACVlE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wDACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBoE,IAAWL,GAAzC,cACAlE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAMC,GAAE,cAAgBP,GACtBlE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUuE,IAAKC,IAAaC,IAAI,eAIrD5E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+DACbH,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAMC,GAAG,KAAT,UAGJzE,EAAAC,EAAAC,cAAA,KAAGC,UAAU,yBAAb,YVlB8B9B,EAAsB,IAAK,MUmBP,WAAlB6F,EA1BP,EA0B6D,GADtF,OAGAlE,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4C,SAAA,KACE7C,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAAC2E,EAAD,CAAUjF,KAAK,YAEE,WAAlBsE,EACClE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,iDACAF,EAAAC,EAAAC,cAAC2E,EAAD,CAAUjF,KAAK,YAGjB,KAMRkE,EAAc1D,UAAY,CACxB6D,SAAU5D,IAAUyE,MAAM,CACxBd,SAAU3D,IAAU0E,OAAOzC,aAC1BA,YAGUwB,iCC/Df,IAAsBkB,EAKpBC,EAAOC,SALaF,EAKWG,EAAQ,OALRH,EAAEI,SAAYJ,oCCA/C,IAAAK,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,GAAAI,EAAAJ,EAAAE,EAAAC,GAAAE,EAAAL,EAAA,IAAAM,EAAAN,EAAAE,EAAAG,GAAAL,EAAAO,EAAAC,EAAA,sBAAAF,EAAA3F,IAAAqF,EAAA,KAa2BS,IAAMC,cAAc,IAuDvC3F,IAAUmC,OACTnC,IAAU0E,OAAOzC,WAChBjC,IAAU4F,KACR5F,IAAU4F,4KClEhBC,EAAmB,SAAAxG,GAAiC,IAA9BuE,EAA8BvE,EAA9BuE,SAAUkC,EAAoBzG,EAApByG,cACpC,OAAKA,EAGEJ,IAAM7F,cAAckG,IAApBC,OAAAC,OAAA,CACLrC,WACAkC,iBACGA,EAAcI,OALV,MASXL,EAAiB9F,UAAY,CAC3B6D,SAAU5D,IAAUyE,MAAM,CACxBd,SAAU3D,IAAU0E,OAAOzC,aAC1BA,YAGU4D,oGClBTM,EAAS,SAAA9G,GAAA,IAAG+G,EAAH/G,EAAG+G,UAAH,OACbzG,EAAAC,EAAAC,cAAA,UACEwG,MAAO,CACLC,WAAY,UACZC,aAAc,YAGhB5G,EAAAC,EAAAC,cAAA,OACEwG,MAAO,CACLG,OAAQ,SACRC,SAAU,IACVC,QAAS,sBAGX/G,EAAAC,EAAAC,cAAA,MAAIwG,MAAO,CAAEG,OAAQ,IACnB7G,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CACEC,GAAG,IACHiC,MAAO,CACLM,MAAO,QACPC,eAAgB,SAGjBR,OAOXD,EAAOpG,UAAY,CACjBqG,UAAWpG,IAAU0E,QAGvByB,EAAOjG,aAAe,CACpBkG,UAAW,IAGED,QC1BTU,iBAAS,SAAAxH,GAAkB,IAAfyH,EAAezH,EAAfyH,SACV9F,EAAO+F,EAAA/F,KAUb,OACErB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4C,SAAA,KACE7C,EAAAC,EAAAC,cAACmH,EAAD,CAAQZ,UAAWpF,EAAKiG,KAAKC,aAAa1H,QAC1CG,EAAAC,EAAAC,cAAA,OACEC,UAAU,iBACVuG,MAAO,CACLG,OAAQ,SACRC,SAAU,IACVC,QAAS,wBACTS,WAAY,IAGdxH,EAAAC,EAAAC,cAAA,YAAOiH,OAMfD,EAAO9G,UAAY,CACjB+G,SAAU9G,IAAUoH,KAAKnF,YAGZ4E,uGCpCf,SAASQ,EAAThI,GAEG,IADDiI,EACCjI,EADDiI,YAAaC,EACZlI,EADYkI,KAAMC,EAClBnI,EADkBmI,KAAMhI,EACxBH,EADwBG,MAEjByH,EADPQ,EAAAzG,KACOiG,KAcFS,EAAkBJ,GAAeL,EAAKC,aAAaI,YAEzD,OACEK,EAAA/H,EAAAC,cAAC+H,EAAAhI,EAAD,CACEiI,eAAgB,CACdN,QAEF/H,MAAOA,EACPsI,cAAa,QAAUb,EAAKC,aAAa1H,MACzCgI,KAAM,CACJ,CACEnG,KAAM,cACN0G,QAASL,GAEX,CACEM,SAAU,WACVD,QAASvI,GAEX,CACEwI,SAAU,iBACVD,QAASL,GAEX,CACEM,SAAU,UACVD,QAAS,YAEXE,OAAOT,KAKfH,EAAInH,aAAe,CACjBqH,KAAM,KACNC,KAAM,GACNF,YAAa,IAGfD,EAAItH,UAAY,CACduH,YAAatH,IAAU0E,OACvB6C,KAAMvH,IAAU0E,OAChB8C,KAAMxH,IAAUkC,QAAQlC,IAAUmC,QAClC3C,MAAOQ,IAAU0E,OAAOzC,YAGXoF,gt0LCzEfzC,EAAAC,QAAA","file":"component---src-pages-encounter-index-js-198caed29ea03702e88c.js","sourcesContent":["/* eslint-disable no-unused-vars */\n\nimport times from 'lodash/times';\n\nfunction getRandomInt(min, max) {\n  const intMin = Math.ceil(min);\n  const intMax = Math.floor(max);\n  return Math.floor(Math.random() * (intMax - intMin)) + intMin;\n}\n\nfunction getRandomIntInclusive(min, max) {\n  const intMin = Math.ceil(min);\n  const intMax = Math.floor(max);\n  return Math.floor(Math.random() * (intMax - intMin + 1)) + intMin;\n}\n\nexport const coinFlip = (weight = 0.5) => Math.random() < weight;\n\nexport const randomHitDie = () => 2 * getRandomIntInclusive(3, 6);\n\nexport const randomGoldLoot = () => getRandomIntInclusive(100, 300);\n\nexport const percentileDie = () => getRandomIntInclusive(1, 100);\n\nexport const randomEntriesFromArray = (arrLength, noOfEntries = 1) => {\n  const indexArray = times(arrLength, Number);\n\n  for (let i = arrLength - 1; i > 1; i -= 1) {\n    const r = Math.floor(Math.random() * i);\n    const t = indexArray[i];\n    indexArray[i] = indexArray[r];\n    indexArray[r] = t;\n  }\n\n  return indexArray.slice(0, noOfEntries);\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { randomHitDie } from '../utils/random';\n\nconst getContentFromType = (type) => {\n  switch (type) {\n    case 'extra-hit-die':\n      return {\n        title: 'Extra Hit Die',\n        desc: `Add a d${randomHitDie()} to your hit die.`,\n      };\n    case 'extra-attribute1':\n      return {\n        title: '+1 Attribute Score',\n        desc: 'Add 1 to a chosen attribute score.',\n      };\n    case 'extra-attribute2':\n      return {\n        title: '+2 Attribute Score',\n        desc: 'Add 2 to a chosen attribute score.',\n      };\n    case 'extra-proficiency':\n      return {\n        title: 'Extra Proficiency',\n        desc: `\n          Gain a proficiency in any skill or language.\n          If you are already proficient with that skill, you gain double proficiency instead.\n        `,\n      };\n    case 'extra-proficiency-bonus':\n      return {\n        title: 'Extra Proficiency Bonus',\n        desc: 'Add 1 to your proficiency bonus.',\n      };\n    case 'feats':\n      return {\n        title: 'Feats',\n        desc: 'Gain 1 feat.',\n      };\n    case 'consumables':\n      return {\n        title: 'Consumables',\n        desc: 'Placeholder description.',\n      };\n    case 'gold':\n      return {\n        title: 'Gold',\n        desc: 'Placeholder description.',\n      };\n    default:\n      return {\n        title: 'Nothing',\n        desc: 'Really. Nothing.',\n      };\n  }\n};\n\nconst Card = ({ type }) => {\n  const { title, desc } = getContentFromType(type);\n  return (\n    <div className=\"card disable-scrollbars\">\n      <div className=\"px-6 py-4\">\n        <div className=\"font-bold text-xl mb-2\">{title}</div>\n        <p className=\"text-gray-800 text-base\">{desc}</p>\n      </div>\n    </div>\n  );\n};\n\nCard.propTypes = {\n  type: PropTypes.oneOf([\n    'extra-hit-die',\n    'extra-attribute1',\n    'extra-attribute2',\n    'extra-proficiency',\n    'extra-proficiency-bonus',\n    'features',\n    'spells',\n    'feats',\n    'consumables',\n    'magic-equipment',\n    'gold',\n  ]),\n};\n\nCard.defaultProps = {\n  type: '',\n};\n\nexport default Card;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport reduce from 'lodash/reduce';\nimport { percentileDie } from '../../utils/random';\n\nconst useFeatures = () => {\n  const {\n    allFeaturesJson: { nodes },\n  } = useStaticQuery(\n    graphql`\n      {\n        allFeaturesJson(filter: {\n          level: { lte: 5 },\n          name: { ne: \"Spellcasting\" }\n        }) {\n          nodes {\n            level\n            name\n            desc\n            class {\n              name\n            }\n          }\n          distinct(field: name)\n        }\n      }\n    `,\n  );\n\n  return nodes;\n};\n\nconst sortFeaturesByLevel = features =>\n  reduce(\n    features,\n    (sorted, f) => {\n      const currentSorted = sorted;\n      if (!currentSorted[f.level]) {\n        currentSorted[f.level] = [];\n      }\n\n      currentSorted[f.level].push(f);\n\n      return currentSorted;\n    },\n    {},\n  );\n\nconst getRandomFeaturesByLevel = (features) => {\n  const sortedFeatures = sortFeaturesByLevel(features);\n  const percentileRoll = percentileDie();\n\n  if (percentileRoll <= 40) return sortedFeatures[1];\n  if (percentileRoll <= 69) return sortedFeatures[2];\n  if (percentileRoll <= 94) return sortedFeatures[3];\n  if (percentileRoll <= 99) return sortedFeatures[4];\n  return sortedFeatures[5];\n};\n\nconst FeatureCard = () => {\n  const features = useFeatures();\n  const sortedFeatures = getRandomFeaturesByLevel(features);\n\n  const randomFeature = sortedFeatures[Math.floor(Math.random() * sortedFeatures.length)];\n\n  return (\n    <div className=\"card bg-yellow-100 disable-scrollbars\">\n      <div className=\"px-6 py-4\">\n        <div className=\"text-xs text-gray-500\">Feature</div>\n        <div className=\"font-bold text-xl mb-2\">{randomFeature.name}</div>\n        <div className=\"text-gray-600 text-sm\">{randomFeature.class.name}</div>\n        <div className=\"text-gray-600 text-sm mb-1\">Level: {randomFeature.level}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default FeatureCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport map from 'lodash/map';\n\nconst SpellGenericContent = ({ level, spells, noOfSlots }) => (\n  <div>\n    <div className=\"card-type\">Spells</div>\n    <div className=\"card-header\">{level > 0 ? `Level ${level}` : 'Cantrip'}</div>\n    {noOfSlots > 0 ? (\n      <div className=\"text-base\">\n        You get {noOfSlots} level {level} spell slot\n      </div>\n    ) : (\n      ''\n    )}\n    <div className=\"text-base mb-2\">You get {spells.length} of the following spell{spells.length > 1 ? 's' : ''}</div>\n    <ul className=\"list-disc\">\n      {spells.map((randomSpell, actualIndex) => (\n        <li key={actualIndex}>\n          <div className=\"font-bold card-desc\">{randomSpell.name}</div>\n          <div className=\"card-desc\">{map(randomSpell.classes, 'name').join(', ')}</div>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nSpellGenericContent.propTypes = {\n  level: PropTypes.number.isRequired,\n  spells: PropTypes.arrayOf(PropTypes.object).isRequired,\n  noOfSlots: PropTypes.number,\n};\n\nSpellGenericContent.defaultProps = {\n  noOfSlots: 0,\n};\n\nexport default SpellGenericContent;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport { randomEntriesFromArray } from '../../utils/random';\nimport SpellGenericContent from './spells-generic';\n\nconst NO_OF_SPELLS = 4;\nconst NO_OF_SLOTS = 0;\n\nconst useCantrips = () => {\n  const {\n    allSpellsJson: { nodes },\n  } = useStaticQuery(\n    graphql`\n      {\n        allSpellsJson(filter: { level: { eq: 0 } }) {\n          nodes {\n            name\n            level\n            classes {\n              name\n            }\n            desc\n          }\n        }\n      }\n    `,\n  );\n\n  return nodes;\n};\n\nconst CantripContent = () => {\n  const spells = useCantrips();\n\n  const chosenIndex = randomEntriesFromArray(spells.length, NO_OF_SPELLS);\n\n  return (\n    <>\n      <SpellGenericContent\n        level={0}\n        noOfSlots={NO_OF_SLOTS}\n        spells={chosenIndex.map(i => spells[i])}\n      />\n    </>\n  );\n};\n\nexport default CantripContent;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport { randomEntriesFromArray } from '../../utils/random';\nimport SpellGenericContent from './spells-generic';\n\nconst NO_OF_SPELLS = 3;\nconst NO_OF_SLOTS = 2;\n\nconst useSpellOne = () => {\n  const {\n    allSpellsJson: { nodes },\n  } = useStaticQuery(\n    graphql`\n      {\n        allSpellsJson(filter: { level: { eq: 1 } }) {\n          nodes {\n            name\n            level\n            classes {\n              name\n            }\n            desc\n          }\n        }\n      }\n    `,\n  );\n\n  return nodes;\n};\n\nconst SpellOneContent = () => {\n  const spells = useSpellOne();\n\n  const chosenIndex = randomEntriesFromArray(spells.length, NO_OF_SPELLS);\n\n  return (\n    <>\n      <SpellGenericContent\n        level={1}\n        noOfSlots={NO_OF_SLOTS}\n        spells={chosenIndex.map(i => spells[i])}\n      />\n    </>\n  );\n};\n\nexport default SpellOneContent;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport { randomEntriesFromArray } from '../../utils/random';\nimport SpellGenericContent from './spells-generic';\n\nconst NO_OF_SPELLS = 2;\nconst NO_OF_SLOTS = 1;\n\nconst useSpellTwo = () => {\n  const {\n    allSpellsJson: { nodes },\n  } = useStaticQuery(\n    graphql`\n      {\n        allSpellsJson(filter: { level: { eq: 2 } }) {\n          nodes {\n            name\n            level\n            classes {\n              name\n            }\n            desc\n          }\n        }\n      }\n    `,\n  );\n\n  return nodes;\n};\n\nconst SpellTwoContent = () => {\n  const spells = useSpellTwo();\n\n  const chosenIndex = randomEntriesFromArray(spells.length, NO_OF_SPELLS);\n\n  return (\n    <SpellGenericContent\n      level={2}\n      noOfSlots={NO_OF_SLOTS}\n      spells={chosenIndex.map(i => spells[i])}\n    />\n  );\n};\n\nexport default SpellTwoContent;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport { randomEntriesFromArray } from '../../utils/random';\nimport SpellGenericContent from './spells-generic';\n\nconst NO_OF_SPELLS = 1;\nconst NO_OF_SLOTS = 1;\n\nconst useSpellThree = () => {\n  const {\n    allSpellsJson: { nodes },\n  } = useStaticQuery(\n    graphql`\n      {\n        allSpellsJson(filter: { level: { eq: 3 } }) {\n          nodes {\n            name\n            level\n            classes {\n              name\n            }\n            desc\n          }\n        }\n      }\n    `,\n  );\n\n  return nodes;\n};\n\nconst SpellThreeContent = () => {\n  const spells = useSpellThree();\n\n  const chosenIndex = randomEntriesFromArray(spells.length, NO_OF_SPELLS);\n\n  return (\n    <>\n      <SpellGenericContent\n        level={3}\n        noOfSlots={NO_OF_SLOTS}\n        spells={chosenIndex.map(i => spells[i])}\n      />\n    </>\n  );\n};\n\nexport default SpellThreeContent;\n","import React from 'react';\n\nimport { percentileDie } from '../../utils/random';\nimport CantripContent from './spells-0';\nimport SpellOneContent from './spells-1';\nimport SpellTwoContent from './spells-2';\nimport SpellThreeContent from './spells-3';\n\nconst getSpellLevelCard = () => {\n  const diceRoll = percentileDie();\n\n  if (diceRoll <= 30) return CantripContent();\n  if (diceRoll <= 60) return SpellOneContent();\n  if (diceRoll <= 85) return SpellTwoContent();\n  return SpellThreeContent();\n};\n\nconst SpellCard = () => (\n  <div className=\"card bg-purple-100 disable-scrollbars\">\n    <div className=\"px-6 py-4\">\n      {getSpellLevelCard()}\n    </div>\n  </div>\n);\n\nexport default SpellCard;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport times from 'lodash/times';\n\nimport Card from './card';\nimport FeatureCard from './cards/features';\nimport SpellCard from './cards/spells';\n\nimport { coinFlip } from '../utils/random';\n\nconst NormalEncounter = quantity => (\n  <div className=\"flex flex-row flex-wrap justify-center\">\n    <Card type=\"extra-hit-die\" />\n    <Card type=\"extra-proficiency\" />\n    {times(quantity, i => (coinFlip(0.65) ? <FeatureCard key={i} /> : <SpellCard key={i} />))}\n  </div>\n);\n\nconst DeadlyEncounter = () => (\n  <div className=\"flex flex-row flex-wrap justify-center\">\n    <Card type=\"extra-attribute2\" />\n    <Card type=\"feats\" />\n    <Card type=\"extra-proficiency-bonus\" />\n  </div>\n);\n\nconst CardList = ({ type, quantity }) => {\n  switch (type) {\n    case 'normal': return NormalEncounter(quantity);\n    case 'deadly': return DeadlyEncounter();\n    default: return <></>;\n  }\n};\n\nCardList.propTypes = {\n  type: PropTypes.oneOf(['normal', 'deadly', 'merchant']),\n  quantity: PropTypes.number,\n};\n\nCardList.defaultProps = {\n  type: 'normal-encounter',\n  quantity: 6,\n};\n\nexport default CardList;\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport last from 'lodash/last';\nimport capitalize from 'lodash/capitalize';\n\nimport Layout from '../../components/layout';\nimport CardList from '../../components/card-list';\nimport SEO from '../../components/seo';\nimport RefreshIcon from '../../images/refresh.svg';\nimport { randomGoldLoot } from '../../utils/random';\n\n\nconst DEADLY_GOLD_MULTIPLIER = 3;\n\nconst EncounterPage = (props) => {\n  const {\n    location: { pathname },\n  } = props;\n\n  const encounterType = last((pathname || '/').split('/'));\n\n  return (\n    <Layout>\n      <SEO title={`${capitalize(encounterType)} Encounter`} />\n      <div className=\"flex flex-col-reverse md:flex-row md:justify-between\">\n        <div className=\"flex flex-row items-center justify-start\">\n          <h1 className=\"flex-initial\">{capitalize(encounterType)} Encounter</h1>\n          <div className=\"px-4\">\n            <Link to={`/encounter/${encounterType}`}>\n              <img className=\"h-4 w-4\" src={RefreshIcon} alt=\"refresh\" />\n            </Link>\n          </div>\n        </div>\n        <div className=\"text-right pb-3 underline text-blue-500 hover:text-gray-600\">\n          <Link to=\"/\">Back</Link>\n        </div>\n      </div>\n      <p className=\"text-gray-600 text-sm\">\n        You gain {randomGoldLoot() * (encounterType === 'deadly' ? DEADLY_GOLD_MULTIPLIER : 1)} gp\n      </p>\n      <>\n        <p>Choose one from the following: </p>\n        <CardList type=\"normal\" />\n      </>\n      {encounterType === 'deadly' ? (\n        <div className=\"my-6\">\n          <p>Also choose one from the following: </p>\n          <CardList type=\"deadly\" />\n        </div>\n      ) : (\n        ''\n      )}\n    </Layout>\n  );\n};\n\nEncounterPage.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default EncounterPage;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Header = ({ siteTitle }) => (\n  <header\n    style={{\n      background: 'dimgrey',\n      marginBottom: '1.45rem',\n    }}\n  >\n    <div\n      style={{\n        margin: '0 auto',\n        maxWidth: 960,\n        padding: '1.45rem 1.0875rem',\n      }}\n    >\n      <h1 style={{ margin: 0 }}>\n        <Link\n          to=\"/\"\n          style={{\n            color: 'white',\n            textDecoration: 'none',\n          }}\n        >\n          {siteTitle}\n        </Link>\n      </h1>\n    </div>\n  </header>\n);\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n};\n\nHeader.defaultProps = {\n  siteTitle: '',\n};\n\nexport default Header;\n","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Header from './header';\nimport '../styles/tailwind.css';\nimport './layout.css';\n\nconst Layout = ({ children }) => {\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `);\n\n  return (\n    <>\n      <Header siteTitle={data.site.siteMetadata.title} />\n      <div\n        className=\"layout-wrapper\"\n        style={{\n          margin: '0 auto',\n          maxWidth: 960,\n          padding: '0px 1.0875rem 1.45rem',\n          paddingTop: 0,\n        }}\n      >\n        <main>{children}</main>\n      </div>\n    </>\n  );\n};\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nfunction SEO({\n  description, lang, meta, title,\n}) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `,\n  );\n\n  const metaDescription = description || site.siteMetadata.description;\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: 'description',\n          content: metaDescription,\n        },\n        {\n          property: 'og:title',\n          content: title,\n        },\n        {\n          property: 'og:description',\n          content: metaDescription,\n        },\n        {\n          property: 'og:type',\n          content: 'website',\n        },\n      ].concat(meta)}\n    />\n  );\n}\n\nSEO.defaultProps = {\n  lang: 'en',\n  meta: [],\n  description: '',\n};\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n};\n\nexport default SEO;\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDU4LjE4NiA0NTguMTg2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NTguMTg2IDQ1OC4xODY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNNDQ1LjY1MSwyMDEuOTVjLTEuNDg1LTkuMzA4LTEwLjIzNS0xNS42NDktMTkuNTQzLTE0LjE2NGMtOS4zMDgsMS40ODUtMTUuNjQ5LDEwLjIzNS0xNC4xNjQsMTkuNTQzDQoJCQljMC4wMTYsMC4xMDIsMC4wMzMsMC4yMDMsMC4wNTEsMC4zMDRjMTcuMzgsMTAyLjMxMS01MS40NywxOTkuMzM5LTE1My43ODEsMjE2LjcxOWMtMTAyLjMxMSwxNy4zOC0xOTkuMzM5LTUxLjQ3LTIxNi43MTktMTUzLjc4MQ0KCQkJUzkyLjk2Niw3MS4yMzIsMTk1LjI3Niw1My44NTJjNjIuOTE5LTEwLjY4OCwxMjYuOTYyLDExLjI5LDE3MC4wNTksNTguMzYxbC03NS42MDUsMjUuMTkNCgkJCWMtOC45NDQsMi45NzYtMTMuNzgxLDEyLjYzOC0xMC44MDYsMjEuNTgyYzAuMDAxLDAuMDAyLDAuMDAyLDAuMDA1LDAuMDAzLDAuMDA3YzIuOTc2LDguOTQ0LDEyLjYzOCwxMy43ODEsMjEuNTgyLDEwLjgwNg0KCQkJYzAuMDAzLTAuMDAxLDAuMDA1LTAuMDAyLDAuMDA3LTAuMDAybDEwMi40LTM0LjEzM2M2Ljk3Mi0yLjMyMiwxMS42NzUtOC44NDcsMTEuNjc0LTE2LjE5NnYtMTAyLjQNCgkJCUM0MTQuNTksNy42NDEsNDA2Ljk0OSwwLDM5Ny41MjMsMHMtMTcuMDY3LDcuNjQxLTE3LjA2NywxNy4wNjd2NjIuMzQ0QzI5Mi41NjQtNC4xODUsMTUzLjU0NS0wLjcwMiw2OS45NDksODcuMTkNCgkJCXMtODAuMTE0LDIyNi45MTEsNy43NzksMzEwLjUwOHMyMjYuOTExLDgwLjExNCwzMTAuNTA4LTcuNzc5QzQzNS45MDUsMzM5Ljc5OSw0NTcuMTc5LDI3MC4xNTIsNDQ1LjY1MSwyMDEuOTV6Ii8+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=\""],"sourceRoot":""}